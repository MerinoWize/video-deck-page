{"version":3,"sources":["utils/storage.js","providers/Auth/Auth.provider.jsx","utils/constants.js","components/VideoCard/components.js","components/VideoCard/VideoCard.component.jsx","components/VideoCardList/components.js","components/VideoCardList/VideoCardList.component.jsx","utils/hooks/useYoutube.js","pages/Home/Home.page.jsx","pages/Login/Login.page.jsx","pages/NotFound/NotFound.page.jsx","pages/Secret/Secret.page.jsx","components/Private/Private.component.jsx","components/Layout/Layout.component.jsx","utils/fns.js","components/App/App.component.jsx","index.jsx"],"names":["storage","key","rawValue","window","localStorage","getItem","JSON","parse","error","console","value","setItem","stringify","AuthContext","React","createContext","useAuth","context","useContext","Error","AuthProvider","children","useState","authenticated","setAuthenticated","useEffect","lastAuthState","isAuthenticated","Boolean","login","useCallback","logout","Provider","Card","styled","div","CardText","CardTitle","span","VideoThumbnail","img","VideoCard","videoSnippet","src","thumbnails","high","url","title","CardListBoard","VideoCardList","popularVids","setPopularVids","a","axios","get","params","part","chart","regionCode","videoCategoryId","response","responseJson","videos","data","items","findPopularVids","usePopularVids","length","cardlist","map","video","snippet","id","HomePage","sectionRef","useRef","ref","LoginPage","history","useHistory","className","onSubmit","event","preventDefault","push","htmlFor","required","type","NotFoundPage","to","alt","SecretPage","width","height","allowFullScreen","frameBorder","allow","Private","rest","render","Layout","random","limit","Math","floor","App","useLayoutEffect","body","document","rotateBackground","xPercent","yPercent","style","setProperty","intervalId","setInterval","addEventListener","clearInterval","removeEventListener","exact","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f5317cca.chunk.js","sourcesContent":["const storage = {\n  get(key) {\n    try {\n      const rawValue = window.localStorage.getItem(key);\n      return JSON.parse(rawValue);\n    } catch (error) {\n      console.error(`Error parsing storage item \"${key}\".`);\n      return null;\n    }\n  },\n\n  set(key, value) {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  },\n};\n\nexport { storage };\n","import React, { useState, useEffect, useContext, useCallback } from 'react';\n\nimport { AUTH_STORAGE_KEY } from '../../utils/constants';\nimport { storage } from '../../utils/storage';\n\nconst AuthContext = React.createContext(null);\n\nfunction useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(`Can't use \"useAuth\" without an AuthProvider!`);\n  }\n  return context;\n}\n\nfunction AuthProvider({ children }) {\n  const [authenticated, setAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const lastAuthState = storage.get(AUTH_STORAGE_KEY);\n    const isAuthenticated = Boolean(lastAuthState);\n\n    setAuthenticated(isAuthenticated);\n  }, []);\n\n  const login = useCallback(() => {\n    setAuthenticated(true);\n    storage.set(AUTH_STORAGE_KEY, true);\n  }, []);\n\n  const logout = useCallback(() => {\n    setAuthenticated(false);\n    storage.set(AUTH_STORAGE_KEY, false);\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ login, logout, authenticated }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport { useAuth };\nexport default AuthProvider;\n","const AUTH_STORAGE_KEY = 'wa_cert_authenticated';\n\nexport { AUTH_STORAGE_KEY };\n","import styled from 'styled-components';\n\nexport const Card = styled.div`\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  align-self: flex-start;\n  background-color: white;\n  height: 280px;\n  width: 280px;\n\n  margin: 8px;\n`;\n\nexport const CardText = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 40%;\n  padding: 8px;\n`;\n\nexport const CardTitle = styled.span`\n  font-size: 14px;\n  font-family: Arial Black;\n  text-overflow: ellipsis;\n`;\n\nexport const VideoThumbnail = styled.img`\n  height: auto;\n  width: 100%;\n  border-radius: 3px;\n  margin-bottom: 8px;\n`;\n","import React from 'react';\nimport { Card, CardText, CardTitle, VideoThumbnail } from './components';\n\nconst VideoCard = ({ videoSnippet }) => {\n  return (\n    <Card>\n      <CardText>\n        <VideoThumbnail src={videoSnippet.thumbnails.high.url} />\n        <CardTitle> {videoSnippet.title} </CardTitle>\n      </CardText>\n    </Card>\n  );\n};\n\nexport default VideoCard;\n","import styled from 'styled-components';\n\nexport const CardListBoard = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  flex-wrap: wrap;\n`;\n","import React from 'react';\nimport VideoCard from '../VideoCard';\nimport { usePopularVids } from '../../utils/hooks/useYoutube';\nimport { CardListBoard } from './components';\n\nconst VideoCardList = () => {\n  const { popularVids } = usePopularVids();\n\n  if (popularVids.length) {\n    const cardlist = popularVids.map((video) => (\n      <VideoCard videoSnippet={video.snippet} key={video.id} />\n    ));\n\n    return <CardListBoard>{cardlist}</CardListBoard>;\n  }\n\n  return <span> LOADING... </span>;\n};\n\nexport default VideoCardList;\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst API_URL = `https://www.googleapis.com/youtube/v3/videos`;\n\nconst YOUTUBE_API_KEY = 'AIzaSyAUu9MIWbw2vZy5_p-mBsTF-mPOH1VPHSU';\n\nexport const usePopularVids = () => {\n  const [popularVids, setPopularVids] = useState([]);\n\n  useEffect(() => {\n    const findPopularVids = async () => {\n      try {\n        const response = await axios.get(API_URL, {\n          params: {\n            part: 'snippet',\n            chart: 'mostPopular',\n            regionCode: 'mx',\n            videoCategoryId: '10',\n            key: YOUTUBE_API_KEY,\n          },\n        });\n        const responseJson = await response;\n        const videos = responseJson.data.items;\n\n        setPopularVids(videos);\n      } catch (error) {\n        console.error('YT Error: ', error);\n      }\n    };\n\n    findPopularVids();\n  }, []);\n\n  return { popularVids };\n};\n","import React, { useRef } from 'react';\n// import { useHistory } from 'react-router-dom';\nimport VideoCardList from '../../components/VideoCardList';\n// import { usePopularVids } from '../../utils/hooks/useYoutube';\n\n// import { useAuth } from '../../providers/Auth';\nimport './Home.styles.css';\n\nconst HomePage = () => {\n  // const history = useHistory();\n  const sectionRef = useRef(null);\n  // const { authenticated, logout } = useAuth();\n\n  // const deAuthenticate = event => {\n  //   event.preventDefault();\n  //   logout();\n  //   history.push('/');\n  // };\n\n  return (\n    <div ref={sectionRef}>\n      {/* <h1>Hello stranger!</h1>\n      {authenticated ? (\n        <>\n          <h2>Good to have you back</h2>\n          <span>\n            <Link to=\"/\" onClick={deAuthenticate}>\n              ← logout\n            </Link>\n            <span className=\"separator\" />\n            <Link to=\"/secret\">show me something cool →</Link>\n          </span>\n        </>\n      ) : (\n        <Link to=\"/login\">let me in →</Link>\n      )} */}\n      HOME\n      <VideoCardList />\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React from 'react';\nimport { useHistory } from 'react-router';\n\nimport { useAuth } from '../../providers/Auth';\nimport './Login.styles.css';\n\nfunction LoginPage() {\n  const { login } = useAuth();\n  const history = useHistory();\n\n  function authenticate(event) {\n    event.preventDefault();\n    login();\n    history.push('/secret');\n  }\n\n  return (\n    <section className=\"login\">\n      <h1>Welcome back!</h1>\n      <form onSubmit={authenticate} className=\"login-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">\n            <strong>username </strong>\n            <input required type=\"text\" id=\"username\" />\n          </label>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">\n            <strong>password </strong>\n            <input required type=\"password\" id=\"password\" />\n          </label>\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </section>\n  );\n}\n\nexport default LoginPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './NotFound.styles.css';\n\nfunction NotFoundPage() {\n  return (\n    <section className=\"not-found\">\n      <Link to=\"/\" className=\"home-link\">\n        home\n      </Link>\n      <img src=\"404.gif\" alt=\"page not found\" />\n    </section>\n  );\n}\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction SecretPage() {\n  return (\n    <section>\n      <pre>\n        welcome, voyager...\n        <Link to=\"/\"> ← go back</Link>\n      </pre>\n      <iframe\n        width=\"800\"\n        height=\"450\"\n        allowFullScreen\n        frameBorder=\"0\"\n        title=\"rick roll\"\n        src=\"https://www.youtube.com/embed/dQw4w9WgXcQ?controls=0&autoplay=1\"\n        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n      />\n    </section>\n  );\n}\n\nexport default SecretPage;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { useAuth } from '../../providers/Auth';\n\nfunction Private({ children, ...rest }) {\n  const { authenticated } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={() => (authenticated ? children : <Redirect to=\"/login\" />)}\n    />\n  );\n}\n\nexport default Private;\n","import React from 'react';\n\nimport './Layout.styles.css';\n\nfunction Layout({ children }) {\n  return <main className=\"container\">{children}</main>;\n}\n\nexport default Layout;\n","function random(limit) {\n  return Math.floor(Math.random() * limit);\n}\n\nexport { random };\n","import React, { useLayoutEffect } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport AuthProvider from '../../providers/Auth';\nimport HomePage from '../../pages/Home';\nimport LoginPage from '../../pages/Login';\nimport NotFound from '../../pages/NotFound';\nimport SecretPage from '../../pages/Secret';\nimport Private from '../Private';\n// import Fortune from '../Fortune';\nimport Layout from '../Layout';\nimport { random } from '../../utils/fns';\n\nconst App = () => {\n  useLayoutEffect(() => {\n    const { body } = document;\n\n    const rotateBackground = () => {\n      const xPercent = random(100);\n      const yPercent = random(100);\n      body.style.setProperty('--bg-position', `${xPercent}% ${yPercent}%`);\n    };\n\n    const intervalId = setInterval(rotateBackground, 3000);\n    body.addEventListener('click', rotateBackground);\n\n    return () => {\n      clearInterval(intervalId);\n      body.removeEventListener('click', rotateBackground);\n    };\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Layout>\n          <Switch>\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route exact path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Private exact path=\"/secret\">\n              <SecretPage />\n            </Private>\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n          </Switch>\n          {/* <Fortune /> */}\n        </Layout>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport './global.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}